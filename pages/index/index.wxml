<!--index.wxml-->
<view class="container">
  <view class="header">
    <view style="height: 44rpx;"></view>
    <view class="content">
      <van-tabs
        type="card"
        bind:change="onTabsChange"
        custom-class="tabs-root-class"
        nav-class="nav-class"
        tab-class="tab-class"
        tab-active-class="tab-active-class"
      >
        <van-tab name="index" title="首页"></van-tab>
        <van-tab name="rank" title="排行榜"></van-tab>
        <van-tab name="praise" title="表彰墙"></van-tab>
      </van-tabs>
    </view>
    <image src="../../resource/home/back.png" />
  </view>

  <!-- 轮播图 -->
  <swiper
    class="swiper-container"
    indicator-dots="{{true}}"
    autoplay="{{true}}"
    interval="{{5000}}"
    duration="{{500}}"
    indicator-color="#fff"
    indicator-active-color="rgb(255,75,3)"
  >
    <block wx:for="{{bannerData}}" id="id">
      <swiper-item>
        <view class="swiper-item">
          <image class="swiper-image" mode="widthFix" src="{{item.image_url}}" />
        </view>
      </swiper-item>
    </block>
  </swiper>

  <view class="new">
    <image class="new-img" src="../../resource/home/new.png" />
    <view class="new-text">
      <!-- <text class="new-text-item1">童真童趣 </text> -->
      <text class="new-text-item2">{{newsData.title}}</text>
    </view>
    <van-button custom-style="padding: 0 26rpx;font-family: font-family: SourceHanSansCN;font-size: 13px;" round type="danger" size="mini" color="#FD5252">立即查看</van-button>
  </view>

  <view class="course-list">
    <view class="course-item" wx:for="{{courseList}}" id="course_id" data-id="{{item.course_id}}">
      <image src="{{item.ad_img}}" />
      <view class="course-content">
        <text class="course-title">{{item.title}}</text>
        <text class="course-sub-title">{{item.subtitle}}</text>
        <text class="course-desc">{{item.ad_title}}</text>
      </view>
      <van-button custom-style="padding: 0 26rpx;font-family: font-family: SourceHanSansCN;font-size: 13px;" round plain type="danger" size="mini" color="#FD5252">去学习</van-button>
    </view>
  </view>

  <view class="work-container">
    <view class="work-header">
      <image src="../../resource/home/title.png" />
      <text class="work-header-title">作品广场</text>
      <text class="work-header-sub-title">作品展览小广场</text>
    </view>

    <van-tabs active="{{active}}" bind:change="onChange" tab-class="work-tab-class" tab-active-class="work-tab-active-class">
      <van-tab title="最新上传" name="newUpload"></van-tab>
      <van-tab title="最新点评" name="newComment"></van-tab>
    </van-tabs>
    <view style="width: 100%;height: 22rpx;border-bottom: 2px solid #f4f4f4;"></view>

    <van-empty wx:if="{{workList.length === 0}}" description="暂无数据">
    </van-empty>

    <view class="notice-container" wx:if="{{workList.length > 0 && active === 'newUpload'}}">
      <view class="notice-left">
        <image src="../../resource/home/notice.png" />
        <view class="notice-left-name">
          {{workList[0].nick_name}}
        </view>
        <view class="notice-left-text">
          上传了作业
        </view>
      </view>
      <view class="notice-right">
        共有
        <text class="notice-right-text">{{count}}</text>
        人提交了作业
      </view>
    </view>

    <view class="work-list">

      <van-row gutter="12">
        <van-col span="12" wx:for="{{workList || []}}" wx:key="index">
          <view class="work-list-item" data-id="{{item.work_id}}" bindtap="toWorkDetail">
            <image src="{{item.img_url}}" class="work-item-img" />
            <view class="list-info">
              <view class="list-info-title">{{item.work_remark}}</view>
              <view class="list-info-box">
                <image src="{{item.head_img}}" />
                <text class="list-info-text">{{item.nick_name}}</text>
                <text class="list-info-time">{{item.create_time}}</text>
              </view>
            </view>
            <view class="list-info-like" data-id="{{item.work_id}}" catchtap="onLikeClick">
              <image wx:if="{{item.is_like === 0}}" src="../../resource/home/heart.png" />
              <image wx:else src="../../resource/home/heart-active.png" />
              <text class="list-info-like-num">{{item.like_num}}</text>
            </view>
            <image wx:if="{{item.status === 1}}" src="../../resource/home/pj.png" class="list-info-pj" />
          </view>
        </van-col>
      </van-row>
    </view>
  </view>
  
</view>
